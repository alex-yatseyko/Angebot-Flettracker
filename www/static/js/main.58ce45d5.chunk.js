(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo-2.848b24b1.png"},32:function(e,t,a){e.exports=a.p+"static/media/paper-plane.0e89e26b.svg"},35:function(e,t,a){e.exports=a(53)},40:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),l=(a(40),a(7)),s=a(9),i=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),l=o[0],i=o[1],u=Object(n.useCallback)(function(e,t){r(e),i(t),localStorage.setItem("userData".JSON.stringify({token:e,refreshToken:t})),console.log(localStorage),console.log(e)},[]),m=Object(n.useCallback)(function(){r(null),i(null),localStorage.removeItem("userData")},[]);return Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&u(e.token,e.refresh_token)},[u]),{login:u,logout:m,token:a,refreshToken:l}};function u(){}var m=Object(n.createContext)({token:null,refresh_token:null,login:u,logout:u,isAuthenticated:!1}),p=a(23),d=a(14),h=function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(l.b,{to:"/map"},r.a.createElement(p.a,{className:"nav-icon",icon:d.b})),r.a.createElement(l.b,{to:"/list"},r.a.createElement(p.a,{className:"nav-icon",icon:d.c})),r.a.createElement(l.b,{to:"/settings"},r.a.createElement(p.a,{className:"nav-icon",icon:d.a})))},E=(a(48),a(13)),f=a(15),v=a.n(f),b=a(19),g=a(4),k=a(29),O=a(20),y=a.n(O),w=function(){var e=Object(n.useContext)(m),t=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),l=o[0],i=o[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,n,c,o,l,s=arguments;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,c=s.length>3&&void 0!==s[3]?s[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n)),e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return o=e.sent,e.next=11,o.json();case 11:if(l=e.sent,o.ok){e.next=14;break}throw new Error("Something went wrong");case 14:return r(!1),e.abrupt("return",l);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),i(e.t0.message),e.t0;case 23:case"end":return e.stop()}},e,null,[[4,18]])}));return function(t){return e.apply(this,arguments)}}(),[]),error:l}}(),a=(t.loading,t.error),c=t.request,o=Object(n.useState)({name:"",password:""}),l=Object(s.a)(o,2),i=l[0],u=l[1];Object(n.useEffect)(function(){console.log("Error",a)},[a]),Object(n.useEffect)(function(){},[]);var p=function(e){u(Object(k.a)({},i,Object(g.a)({},e.target.name,e.target.value)))},d=function(){var t=Object(b.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("https://staging.api.app.fleettracker.de/api/token","POST",Object(k.a)({},i),{"Content-Type":"application/json"});case 3:a=t.sent,e.login(a.token,a.refresh_token),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Name or Password is incorrect");case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"content"},r.a.createElement("img",{src:y.a,alt:"logo"}),r.a.createElement("input",{placeholder:"Name",type:"text",id:"name",name:"name",onChange:p}),r.a.createElement("input",{placeholder:"Password",type:"password",id:"password",name:"password",onChange:p}),r.a.createElement("div",{className:"btn-primary",onClick:d},"Login"))},S=a(56),j=a(57),A=a(55),x=a(5),N=a.n(x),T=new N.a.Icon({iconUrl:a(32),iconRetinaUrl:a(32),iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new N.a.Point(60,75),className:"leaflet-div-icon"}),C=function(){var e=Object(n.useState)([[51.522968,-.108148],[54.522968,-.208148],[49.771496,23.971092],[51.771496,26.971092],[55.771496,28.971092],[45.771496,10.971092],[49.375225,14.595445]]),t=Object(s.a)(e,2),a=t[0],c=(t[1],"T94boxXXrApFtc58WmGz"),o="aJYTveJijLx5bMV5Qt4-pXKHvbH9CblzqBiq3dRZRDA",i="https://1.base.maps.ls.hereapi.com/maptile/2.1/maptile/newest/".concat("normal.day","/{z}/{x}/{y}/256/png8?apiKey=").concat(o,"&app_id=").concat(c);return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("input",{type:"text",className:"headerInput",placeholder:"Search Vessel or Ship Group..."})),r.a.createElement(S.a,{center:[51.522968,-.108148],zoom:5},r.a.createElement(j.a,{url:i}),a.map(function(e,t){return r.a.createElement(l.b,{key:t,style:{transform:"rotate(45deg)"},to:"/about"},r.a.createElement(A.a,{style:{transform:"rotate(45deg)"},position:e,icon:T,rotate:"45deg"}))})))},V=function(){var e=Object(E.g)(),t=Object(n.useContext)(m);return r.a.createElement("div",{className:"content"},r.a.createElement("img",{src:y.a,alt:"logo"}),r.a.createElement("div",{className:"btn-primary",onClick:function(a){a.preventDefault(),t.logout(),e.push("/")}},"Logout"))},I=a(16),M=function(){var e=Object(n.useState)([{name:"MV OCTOPUS",capt:"A.Kirk",places:[],key:"1"},{name:"MV TURTOISE",capt:"J.Doe",places:[],key:"2"},{name:"MV STARFISH",capt:"A.Ace",places:[],key:"3"},{name:"MV WALRUS",capt:"A.Sonething",places:[],key:"4"},{name:"MV SEAGULL",capt:"A.Whatever",places:[],key:"5"},{name:"MV PELICAN",capt:"A.Yatseyko",places:[],key:"6"},{name:"MV OCTOPUS",capt:"A.Kirk",places:[],key:"7"},{name:"MV TURTOISE",capt:"J.Doe",places:[],key:"8"},{name:"MV STARFISH",capt:"A.Ace",places:[],key:"9"},{name:"MV WALRUS",capt:"A.Sonething",places:[],key:"10"},{name:"MV SEAGULL",capt:"A.Whatever",places:[],key:"11"},{name:"MV PELICAN",capt:"A.Yatseyko",places:[],key:"12"}]),t=Object(s.a)(e,2),a=t[0];t[1];return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("input",{type:"text",className:"headerInput",placeholder:"Search Vessel or Ship Group..."})),a.map(function(e){return r.a.createElement("div",{className:"ship",key:e.key},r.a.createElement("div",{className:"ship-details"},r.a.createElement("b",null,e.name),r.a.createElement("p",null,"Capt. ",e.capt)),r.a.createElement("div",{className:"timeline-wrapper"},r.a.createElement(I.Timeline,null,r.a.createElement(I.TimelineEvent,{title:"John Doe"})),r.a.createElement(I.Timeline,null,r.a.createElement(I.TimelineEvent,{title:"John Doe"}))))}))},L=function(e){return e?r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/map",exact:!0},r.a.createElement(C,null)),r.a.createElement(E.b,{path:"/list",exact:!0},r.a.createElement(M,null)),r.a.createElement(E.b,{path:"/settings",exact:!0},r.a.createElement(V,null)),r.a.createElement(E.a,{to:"/map"})):r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/",exact:!0},r.a.createElement(w,null)),r.a.createElement(E.a,{to:"/"}))};var J=function(){var e=i(),t=e.token,a=e.refresh_token,n=e.login,c=e.logout,o=!!t,s=L(o);return r.a.createElement(m.Provider,{value:{token:t,login:n,logout:c,refresh_token:a,isAuthenticated:o}},r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},o&&r.a.createElement(h,null),s)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=function(){o.a.render(r.a.createElement(J,null),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",function(){U()},!1):U(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[35,1,2]]]);
//# sourceMappingURL=main.58ce45d5.chunk.js.map